# Generated by CrewCFO Agent
# Date: 2025-12-16T10:29:45.896203

# Feature B: Value Driver Scoring Engine
# CrewCFO Valuation Intelligence Module

feature:
  id: "B"
  name: "Value Driver Scoring Engine"
  purpose: "Automatically scores roofing contractors across 6 Matador-style value drivers to determine business tier (Below Avg ~3×, Avg ~4.5-5×, Above Avg ~7×+) and identify improvement opportunities that directly impact valuation multiples"
  
  automation:
    tier: "hybrid"
    confidence_threshold: 0.80
    
  data_sources:
    - Books OS
    - QBO
    - Jobber
    - ServiceTitan
    - AccuLynx
    - Industry benchmarks
    - Market data feeds
  
  inputs:
    - QBO financial data (P&L, Balance Sheet, Cash Flow)
    - Books OS transaction history
    - Customer data and contract details
    - Employee vs contractor classification
    - Recurring revenue contracts
    - Owner time tracking
    - Operational system usage data
    - Market and geographic data
    - Historical performance metrics
  
  outputs:
    - Individual driver scores (0-100 scale)
    - Overall Matador tier classification
    - Weighted composite score
    - Driver improvement recommendations
    - Valuation multiple impact analysis
    - Evidence-based scoring rationale
    - Confidence scores per driver
    - Historical score trending
    - Benchmarking against industry peers

# 6 Matador Value Drivers

drivers:
  1_management_independence:
    name: "Management Independence"
    weight: 20%
    description: "Measures business dependency on owner/founder presence"
    
    scoring_criteria:
      high_score_90_100:
        - Professional management team in place
        - Owner works <20 hours/week in operations
        - Clear organizational chart with defined roles
        - Documented processes and procedures
        - Management team can operate independently for 30+ days
        
      medium_score_60_89:
        - Some management delegation but owner still critical
        - Owner works 20-40 hours/week in operations
        - Basic job descriptions and processes documented
        - Can operate independently for 1-2 weeks
        
      low_score_0_59:
        - Owner-operator model with high dependency
        - Owner works 40+ hours/week in operations
        - No formal management structure
        - Business cannot operate without owner presence
    
    data_signals:
      - Owner time tracking from Books OS
      - Payroll data showing management salaries
      - Decision-making patterns in financial approvals
      - Customer interaction logs (owner vs. staff)
      - Operational system usage by role
    
    automation_approach:
      rules: "Time tracking analysis, payroll structure analysis"
      ml: "Pattern recognition in decision flows and operational dependencies"
      llm: "Process documentation analysis, organizational structure assessment"

  2_financial_records_quality:
    name: "Financial Records Quality"
    weight: 18%
    description: "Quality and reliability of financial reporting and controls"
    
    scoring_criteria:
      high_score_90_100:
        - GAAP-compliant accrual accounting
        - Monthly financial closes within 10 days
        - Clean audit or review opinions
        - Robust internal controls and segregation of duties
        - Automated reconciliation processes
        
      medium_score_60_89:
        - Accrual accounting with some gaps
        - Monthly closes within 15-20 days
        - Basic internal controls in place
        - Some manual reconciliation processes
        
      low_score_0_59:
        - Cash basis accounting
        - Irregular or delayed financial reporting
        - Minimal internal controls
        - Manual, error-prone processes
    
    data_signals:
      - QBO accounting method and settings
      - Books OS close timing and accuracy metrics
      - Reconciliation frequency and accuracy
      - Audit trail completeness
      - Error rates in financial data
    
    automation_approach:
      rules: "Accounting method detection, close timing analysis"
      ml: "Error pattern recognition, reconciliation quality scoring"
      llm: "Financial statement quality assessment"

  3_recurring_revenue:
    name: "Recurring Revenue"
    weight: 17%
    description: "Predictable revenue streams from maintenance contracts and repeat customers"
    
    scoring_criteria:
      high_score_90_100:
        - 40%+ revenue from recurring contracts
        - Multi-year maintenance agreements
        - High customer retention rates (90%+)
        - Predictable monthly recurring revenue
        
      medium_score_60_89:
        - 20-39% recurring revenue
        - Annual maintenance contracts
        - Good customer retention (75-89%)
        - Some predictable revenue streams
        
      low_score_0_59:
        - <20% recurring revenue
        - Project-based business model
        - Low customer retention (<75%)
        - Highly variable revenue patterns
    
    data_signals:
      - Contract data from CRM systems
      - Revenue categorization in QBO
      - Customer repeat purchase patterns
      - Maintenance agreement tracking
      - Seasonal revenue analysis
    
    automation_approach:
      rules: "Revenue categorization, contract term analysis"
      ml: "Customer behavior prediction, retention modeling"
      llm: "Contract analysis and revenue stream classification"

  4_operational_systems:
    name: "Operational Systems"
    weight: 16%
    description: "Technology adoption and process systematization"
    
    scoring_criteria:
      high_score_90_100:
        - Integrated CRM/ERP system (ServiceTitan, JobNimbus, etc.)
        - Digital estimating and project management
        - Automated scheduling and dispatch
        - Customer portal and digital communications
        - Mobile workforce management
        
      medium_score_60_89:
        - Basic CRM system in use
        - Some digital processes implemented
        - Manual scheduling with digital support
        - Email-based customer communications
        
      low_score_0_59:
        - Paper-based or spreadsheet systems
        - Manual processes throughout
        - Phone-based scheduling and communications
        - Limited technology adoption
    
    data_signals:
      - Integration data from connected systems
      - Process automation metrics
      - Digital adoption rates
      - System usage analytics
      - Technology investment patterns
    
    automation_approach:
      rules: "System integration detection, usage metrics analysis"
      ml: "Process efficiency scoring, adoption pattern analysis"
      llm: "Technology stack assessment and optimization recommendations"

  5_customer_base_diversity:
    name: "Customer Base Diversity"
    weight: 15%
    description: "Customer concentration risk and market diversification"
    
    scoring_criteria:
      high_score_90_100:
        - No single customer >10% of revenue
        - Diverse mix of residential/commercial
        - Multiple geographic markets
        - Balanced customer size distribution
        
      medium_score_60_89:
        - Largest customer 10-20% of revenue
        - Some market diversification
        - 2-3 geographic areas served
        - Moderate customer concentration
        
      low_score_0_59:
        - Single customer >20% of revenue
        - Heavy concentration in one market segment
        - Single geographic market
        - High customer concentration risk
    
    data_signals:
      - Customer revenue analysis from QBO
      - Geographic distribution of jobs
      - Market segment categorization
      - Customer acquisition sources
      - Revenue concentration metrics
    
    automation_approach:
      rules: "Revenue concentration calculations, geographic analysis"
      ml: "Customer segmentation and risk modeling"
      llm: "Market diversification strategy recommendations"

  6_market_outlook:
    name: "Market Outlook"
    weight: 14%
    description: "Market position, growth trends, and competitive advantages"
    
    scoring_criteria:
      high_score_90_100:
        - Growing market with strong fundamentals
        - Competitive advantages and differentiation
        - Strong brand recognition and reputation
        - Favorable regulatory environment
        - Technology leadership position
        
      medium_score_60_89:
        - Stable market conditions
        - Some competitive advantages
        - Established local reputation
        - Neutral regulatory environment
        
      low_score_0_59:
        - Declining or highly competitive market
        - Limited differentiation
        - Weak market position
        - Regulatory headwinds
    
    data_signals:
      - Market growth data and trends
      - Competitive analysis metrics
      - Brand recognition indicators
      - Regulatory compliance status
      - Innovation and technology adoption
    
    automation_approach:
      rules: "Market data analysis, compliance tracking"
      ml: "Competitive positioning analysis, trend prediction"
      llm: "Market opportunity assessment and strategic recommendations"

# Scoring Algorithm

scoring:
  methodology: "Weighted average of 6 drivers with confidence adjustments"
  
  tier_classification:
    above_average: 
      score_range: "80-100"
      multiple_range: "7x+"
      description: "Premium roofing businesses with strong fundamentals"
      
    average:
      score_range: "60-79" 
      multiple_range: "4.5-5x"
      description: "Solid roofing businesses with growth potential"
      
    below_average:
      score_range: "0-59"
      multiple_range: "~3x"
      description: "Traditional roofing businesses requiring improvement"
  
  confidence_scoring:
    high_confidence: ">90% - Auto-commit scores"
    medium_confidence: "80-90% - Commit with flagged review"
    low_confidence: "60-79% - Draft requiring human confirmation"
    exception_queue: "<60% - Manual review required"

# Human-in-Loop Rules

human_in_loop:
  triggers:
    - Driver score confidence < 80%
    - Tier classification changes
    - Scores impacting valuation by > $50,000
    - New driver evidence contradicts historical patterns
    - Manual override requests from users
  
  review_process:
    - Present evidence and scoring rationale
    - Allow manual score adjustments with justification
    - Require approval for tier changes
    - Maintain audit trail of all overrides
    - Schedule periodic score reviews

# Integration Requirements

integrations:
  books_os:
    - Transaction categorization and analysis
    - Owner time tracking data
    - Process automation metrics
    - Financial close timing
    
  qbo:
    - Chart of accounts analysis
    - Customer and vendor data
    - Revenue and expense categorization
    - Financial statement preparation
    
  crm_systems:
    - Customer relationship data
    - Contract and project information
    - Communication logs
    - Pipeline and opportunity tracking
    
  industry_data:
    - Market benchmarks and trends
    - Competitive analysis data
    - Regulatory compliance information
    - Technology adoption metrics

# Compliance & Audit

compliance:
  books_os_constitution: "QBO as source of truth for all financial data"
  audit_trail: "Complete logging of score calculations and evidence"
  data_governance: "Secure handling of sensitive business information"
  user_permissions: "Role-based access to scoring data and overrides"